<div class="register-container">
  <div class="register-wrapper">
    <div class="register-card">
      <div class="card-header">
        <h3 class="card-title">Crear Cuenta</h3>
      </div>
      
      <div class="card-body">
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label class="form-label">Nombre Completo</label>
            <input
              type="text"
              formControlName="nombre"
              class="form-input"
              [class.input-error]="registerForm.get('nombre')?.invalid && registerForm.get('nombre')?.touched"
            >
            <div class="error-message" 
                 *ngIf="registerForm.get('nombre')?.errors?.['required'] && registerForm.get('nombre')?.touched">
              El nombre es obligatorio
            </div>
            <div class="error-message" 
                 *ngIf="registerForm.get('nombre')?.errors?.['minlength'] && registerForm.get('nombre')?.touched">
              El nombre debe tener al menos 2 caracteres
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Email</label>
            <input
              type="email"
              formControlName="email"
              class="form-input"
              [class.input-error]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
            >
            <div class="error-message" 
                 *ngIf="registerForm.get('email')?.errors?.['required'] && registerForm.get('email')?.touched">
              El email es obligatorio
            </div>
            <div class="error-message" 
                 *ngIf="registerForm.get('email')?.errors?.['email'] && registerForm.get('email')?.touched">
              Formato de email invalido
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Contrasenia (minimo 6 caracteres)</label>
            <input
              type="password"
              formControlName="password"
              class="form-input"
              [class.input-error]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
            >
            <div class="error-message" 
                 *ngIf="registerForm.get('password')?.errors?.['required'] && registerForm.get('password')?.touched">
              La contrasenia es obligatoria
            </div>
            <div class="error-message" 
                 *ngIf="registerForm.get('password')?.errors?.['minlength'] && registerForm.get('password')?.touched">
              La contrasenia debe tener al menos 6 caracteres
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Confirmar Contrasenia</label>
            <input
              type="password"
              formControlName="confirmPassword"
              class="form-input"
              [class.input-error]="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched"
            >
            <div class="error-message" 
                 *ngIf="registerForm.get('confirmPassword')?.errors?.['required'] && registerForm.get('confirmPassword')?.touched">
              Confirma tu contrasenia
            </div>
            <div class="error-message" 
                 *ngIf="registerForm.get('confirmPassword')?.errors?.['passwordMismatch'] && registerForm.get('confirmPassword')?.touched">
              Las contrasenias no coinciden
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Celular (8 digitos)</label>
            <input
              type="tel"
              formControlName="celular"
              class="form-input"
              [class.input-error]="registerForm.get('celular')?.invalid && registerForm.get('celular')?.touched"
            >
            <div class="error-message" 
                 *ngIf="registerForm.get('celular')?.errors?.['required'] && registerForm.get('celular')?.touched">
              El celular es obligatorio
            </div>
            <div class="error-message" 
                 *ngIf="registerForm.get('celular')?.errors?.['pattern'] && registerForm.get('celular')?.touched">
              El celular debe tener 8 dígitos
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Direccion</label>
            <textarea
              formControlName="direccion"
              rows="3"
              class="form-textarea"
              [class.input-error]="registerForm.get('direccion')?.invalid && registerForm.get('direccion')?.touched"
            ></textarea>
            <div class="error-message" 
                 *ngIf="registerForm.get('direccion')?.errors?.['required'] && registerForm.get('direccion')?.touched">
              La direccion es obligatoria
            </div>
            <div class="error-message" 
                 *ngIf="registerForm.get('direccion')?.errors?.['minlength'] && registerForm.get('direccion')?.touched">
              La direccion debe tener al menos 5 caracteres
            </div>
          </div>

          <button 
            type="submit" 
            class="submit-button"
            [disabled]="registerForm.invalid || loading()"
            [class.button-disabled]="registerForm.invalid || loading()"
          >
            <div class="button-content">
              <span *ngIf="loading()" class="loading-spinner"></span>
              {{ loading() ? 'Creando cuenta...' : 'Crear Cuenta' }}
            </div>
          </button>

          <div class="link-container">
            <p class="link-text">
              ¿Ya tienes cuenta? 
              <a routerLink="/login" class="link">Inicia sesion aqui</a>
            </p>
          </div>

          <div *ngIf="error()" class="error-container">
            {{ error() }}
          </div>
        </form>
      </div>
    </div>

    <div class="back-link">
      <a href="/welcome" class="btn-start">Volver a la pagina principal</a>
    </div>
  </div>
</div>